import{r as n,a as s,R as e}from"../.vite/manifest.json";import"./SideBar-LxcvG1Xt.js";const f=()=>{n.useState({subcompany:"",department:"",purpose_of_purchase:"it",location:"",vat:"",currency:"",file_number:"",vessel:"",voyage:"",purchase_category:"",dac_number:"",urgency:"",point_of_delivery:"",office:""});var l;l=(r=>r.substring(r.lastIndexOf("/")+1))(window.location.pathname);const[t,c]=n.useState({}),o=r=>{c(a=>({...a,[r.target.name]:r.target.value}))};console.log(t),n.useEffect(()=>{m()},[l]);const m=async()=>{try{const r=await s.get(`/req/${l}`);c(r.data.req)}catch(r){console.error("Error fetching reqs:",r)}},i=async r=>{try{const a=await s.patch(`http://localhost:8000/req/${l}/edit`,t);console.log("data",t,a),a?(window.location.href=`/req_items/${l}`,console.log("success",l)):console.log("Req failed:",a.data.message||"Unknown error")}catch(a){console.error("Error submitting form:",a.message||"Unknown error")}};return e.createElement(e.Fragment,null,e.createElement("div",{className:"fixed inset-0 flex items-center justify-center overflow-y-auto"},e.createElement("div",{className:"bg-white w-4/5 md:w-4/5 lg:w-4/5 p-6 rounded-md shadow-md"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("h2",{className:"text-xl font-semibold"},"PR Details"),e.createElement("a",{href:"/dashboard",className:""},e.createElement("button",{type:"button",className:"text-gray-700 hover:text-gray-900 focus:outline-none"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))))),e.createElement("form",null,e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"Sub Company"),e.createElement("select",{className:"form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",id:"subcompany",name:"subcompany",required:!0,value:t.subcompany,onChange:o},e.createElement("option",{value:"",disabled:!0},"Select sub company"),e.createElement("option",{value:"btl"}," BTL"),e.createElement("option",{value:"ilst"}," ILST"))),e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"Department"),e.createElement("select",{className:"form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",id:"department",name:"department",required:!0,onChange:o,value:t.department},e.createElement("option",{value:"",disabled:!0},"Select a department"),e.createElement("option",{value:"finance"},"finance"),e.createElement("option",{value:"workshop"},"workshop "))),e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"Purpose of purchase"),e.createElement("input",{type:"text",className:`form-control mt-1 block \r
                      w-full rounded-md border-gray-300 \r
                      shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50`,id:"purpose_of_purchase",name:"purpose_of_purchase",placeholder:"Purpose of Purchase",required:!0,value:t.purpose_of_purchase,onChange:o}))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"Urgency"),e.createElement("select",{className:"form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",id:"urgency",name:"urgency",required:!0,value:t.urgency,onChange:o},e.createElement("option",{value:"",disabled:!0,selected:!0},"Select urgency"),e.createElement("option",{value:"urgenct"}," Urgent"),e.createElement("option",{value:"routine"},"Routine "),e.createElement("option",{value:"emergency"},"Emergency "))),e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"Point of delivery"),e.createElement("select",{className:"form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",id:"point_of_delivery",name:"point_of_delivery",required:!0,onChange:o,value:t.point_of_delivery},e.createElement("option",{value:"",disabled:!0,selected:!0},"point of delivery"),e.createElement("option",{value:"JKIA"},"JKIA"),e.createElement("option",{value:"HQ"}," HQ"),e.createElement("option",{value:"ICD"}," ICD"))),e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"location"),e.createElement("input",{type:"text",className:`form-control mt-1 block \r
                      w-full rounded-md border-gray-300 \r
                      shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50`,id:"location",name:"location",placeholder:"location",value:t.location,required:!0,onChange:o}))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"File Number"),e.createElement("input",{type:"text",className:`form-control mt-1 block \r
                w-full rounded-md border-gray-300 \r
                      shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50`,id:"file_number",name:"file_number",placeholder:"file number",value:t.file_number,required:!0,onChange:o})),e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"Vessel"),e.createElement("input",{type:"text",className:`form-control mt-1 block \r
                      w-full rounded-md border-gray-300 \r
                      shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50`,id:"vessel",name:"vessel",placeholder:"vessel",value:t.vessel,required:!0,onChange:o})),e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"voyage"),e.createElement("input",{type:"text",className:`form-control mt-1 block \r
                      w-full rounded-md border-gray-300 \r
                      shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50`,id:"voyage",name:"voyage",placeholder:"voyage",value:t.voyage,required:!0,onChange:o}))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"DAC Number"),e.createElement("input",{type:"text",className:`form-control mt-1 block \r
                w-full rounded-md border-gray-300 \r
                      shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50`,id:"dac_number",name:"dac_number",placeholder:"dac number",required:!0,value:t.dac_number,onChange:o})),e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"Currency"),e.createElement("select",{className:`form-select mt-1 block w-full rounded-md \r
                border-gray-300 shadow-sm focus:border-indigo-300 \r
                focus:ring focus:ring-indigo-200 focus:ring-opacity-50`,id:"currency",name:"currency",required:!0,onChange:o,value:t.currency},e.createElement("option",{value:"",disabled:!0,selected:!0},"select currency"),e.createElement("option",{value:"Ush"},"Ush"),e.createElement("option",{value:"Ksh"},"Ksh"),e.createElement("option",{value:"USD"},"USD"),e.createElement("option",{value:"EURO"},"EURO"),e.createElement("option",{value:"GBP"},"GBP"),e.createElement("option",{value:"CHF"},"CHF"),e.createElement("option",{value:"ZAR"},"ZAR"))),e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"Office"),e.createElement("select",{className:"form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",id:"office",name:"office",value:t.office,required:!0,onChange:o},e.createElement("option",{value:"",disabled:!0,selected:!0},"select office"),e.createElement("option",{value:"nairobi"},"Nairobi"),e.createElement("option",{value:"Mombasa"}," Mombasa"),e.createElement("option",{value:"Kisumu"}," Kisumu")))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"Purchase category"),e.createElement("select",{className:`form-select mt-1 block w-full rounded-md \r
               border-gray-300 shadow-sm focus:border-indigo-300 \r
               focus:ring focus:ring-indigo-200 focus:ring-opacity-50`,id:"purchase_category",name:"purchase_category",required:!0,onChange:o,value:t.purchase_category},e.createElement("option",{value:"",disabled:!0,selected:!0},"select category"),e.createElement("option",{value:"IT"},"IT"),e.createElement("option",{value:"HR"}," HR"),e.createElement("option",{value:"GENERAL"}," GENERAL"))),e.createElement("div",{className:"mb-4 w-4/5"},e.createElement("label",{className:"block text-sm font-bold text-gray-700"},"VAT"),e.createElement("select",{className:"form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",id:"vat",name:"vat",required:!0,onChange:o,value:t.vat},e.createElement("option",{value:"",disabled:!0,selected:!0},"select vat"),e.createElement("option",{value:"16%"},"16%"),e.createElement("option",{value:"8%"},"8%")))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-3"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"col-form-label",htmlFor:"document-upload"},"Upload Documents"),e.createElement("input",{type:"file",className:"form-control rounded",id:"document-upload",name:"document-upload",required:!0,onChange:o})),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"col-form-label",htmlFor:"document-upload"},"Upload Documents"),e.createElement("input",{type:"file",className:"form-control rounded",id:"document-upload",name:"document-upload",required:!0,onChange:o})),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"col-form-label",htmlFor:"document-upload"},"Upload Documents"),e.createElement("input",{type:"file",className:"form-control rounded",id:"document-upload",name:"document-upload",required:!0,onChange:o}))),e.createElement("div",{className:"flex justify-end mt-6"},e.createElement("button",{type:"submit",className:"text-gray-500 bg-green-400 border border-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 py-1 px-4",onClick:i},"Proceed to Req Items"))))))};export{f as default};
