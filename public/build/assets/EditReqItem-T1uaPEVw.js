import{r as n,R as e,a as g}from"../.vite/manifest.json";import{P as p}from"./index-v-lOFoFl.js";const b=({items:o,onUpdate:l})=>{const[a,c]=n.useState({items:o});n.useEffect(()=>{o.length>0&&c({...o[0]}),console.log(o)},[o]),console.log(a);const r=s=>{const{name:d,value:t}=s.target;c({...a,[d]:t})},m=s=>{s.preventDefault(),l(a)};return e.createElement(e.Fragment,null,e.createElement("a",{href:"/dashboard",className:""},e.createElement("button",{type:"button",className:"text-gray-700 hover:text-gray-900 focus:outline-none"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})))),e.createElement("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-md shadow-md"},e.createElement("h2",{className:"text-2xl font-semibold mb-4"},"Edit Req Items"),e.createElement("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},e.createElement("div",{className:"mb-4 col-span-2"},e.createElement("label",{htmlFor:"item",className:"block text-sm font-bold text-gray-700"},"Item"),e.createElement("input",{type:"text",className:"form-input mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",id:"item",name:"item",value:a.item||"",onChange:r,required:!0})),e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"quantity",className:"block text-sm font-bold text-gray-700"},"Quantity"),e.createElement("input",{type:"text",className:"form-input mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",id:"quantity",name:"quantity",value:a.quantity||"",onChange:r,required:!0}))),e.createElement("div",{className:"border-t border-gray-300 mt-6 pt-6"},e.createElement("button",{type:"submit",onClick:m,className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:ring focus:border-blue-300 ml-2"},"Update Incomplete PR"),e.createElement("button",{type:"submit",onClick:m,className:"bg-blue-500 text-white ml-2 mt-2 py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:ring focus:border-blue-300"},"Save Req Item"))))};b.propTypes={items:p.array.isRequired,onUpdate:p.func.isRequired};const E=()=>{const[o,l]=n.useState({});n.useState({});const[a,c]=n.useState(null);var r;r=(t=>t.substring(t.lastIndexOf("/")+1))(window.location.pathname);const s=async()=>{try{const t=await g.get(`http://localhost:8000/req_items/${r}/edit`);console.log(t),l(t.data.data)}catch(t){console.error("Error fetching items",t)}};n.useEffect(()=>{s()},[]),console.log(o);const d=async t=>{console.log(t);try{const i=await g.put(`http://localhost:8000/reqs_items/${r}`,t),f=o.map(u=>u.id===t.id?i.data:u);l(f),c(null),i&&(window.location.href="/success")}catch(i){console.error("Error updating item",i)}};return console.log(o),e.createElement("div",null,e.createElement(b,{items:o,onUpdate:d}))};export{E as default};
