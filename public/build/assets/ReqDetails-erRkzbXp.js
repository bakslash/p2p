import{A as p}from"./AuthenticatedLayout-SKPFQzUe.js";import{r as a,R as e,a as g}from"../.vite/manifest.json";import{a as f,R as h}from"./ReqItemsTable-KNKDfVQk.js";import"./react-paginate-4yn8oFZX.js";import"./SideBar-LxcvG1Xt.js";import"./index-mHKWSRzy.js";import"./index-v-lOFoFl.js";function I({auth:o}){const[n,b]=a.useState(""),[c,E]=a.useState(""),[l,y]=a.useState(""),[m,v]=a.useState([]);a.useState(!0);const r=async t=>{try{const s=t?"submit_pr":"save_pr";console.log(t);const i=!!t,d=await g.post("http://localhost:8000/req_items/add",{item:n,quantity:c,measure:l,status:i});console.log(`PR ${t?"submitted":"saved"} successfully`,d),fetchReqDetails()}catch(s){console.error(`Error ${t?"submitting":"saving"} PR`,s)}},u=(t,s)=>{switch(console.log("req",t),s){case"View":setShowReqModal(!0);break;case"Edit":window.location.href=`/edit_item/${t.id}`;break}};return e.createElement(e.Fragment,null,e.createElement(p,{user:o.user,header:e.createElement(e.Fragment,null,e.createElement("h2",{className:"font-semibold text-xl text-gray-800 leading-tight"},"Dashboard"))},e.createElement(f,null),e.createElement("div",{className:"card px-12 "},e.createElement("div",{className:" "},e.createElement("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},e.createElement("div",{className:"card p-4"},e.createElement(h,{items:m,handleSelect:u}),e.createElement("div",{className:"flex justify-around "},e.createElement("button",{type:"button",className:`text-white bg-green-400\r
                    focus:outline-none hover:bg-gray-100\r
                    focus:ring-4 focus:ring-gray-200 py-1 px-4 rounded`,onClick:r},"Save Incomplete PR"),e.createElement("a",{href:"/add_req",className:""},e.createElement("button",{type:"button",className:`text-white bg-green-400\r
                      focus:outline-none hover:bg-blue-400\r
                      focus:ring-4 focus:ring-gray-200 py-1 px-4 rounded`},"Previous Window")),e.createElement("a",{href:"/success",className:""},e.createElement("button",{type:"button",className:`text-white bg-green-400\r
                    focus:outline-none hover:bg-gray-100\r
                    focus:ring-4 focus:ring-gray-200 py-1 px-4 rounded`,onClick:r},"Submit PR")))))))))}export{I as default};
